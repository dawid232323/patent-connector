<mat-card>
	<mat-card-header>
		<mat-card-title class="px-8">Znajdź wydarzenie dla siebie</mat-card-title>
		<mat-icon matSuffix class="px-8 mt-[.25rem] hover:cursor-pointer hover:text-red-900" (click)="panelClosed.emit()">close</mat-icon>
	</mat-card-header>
	<mat-card-content *ngIf="filterForm">
		<form [formGroup]="filterForm" class="p-8">
			<section>
				<mat-form-field class="primary-form-field">
					<label>Nazwa wydarzenia</label>
					<input formControlName="title" matInput />
				</mat-form-field>
			</section>
			<section>
				<mat-form-field class="primary-form-field">
					<label>Data od</label>
					<input matInput [matDatepicker]="dateFromPicker" formControlName="dateFrom">
					<mat-datepicker-toggle matIconSuffix [for]="dateFromPicker"></mat-datepicker-toggle>
					<mat-datepicker #dateFromPicker></mat-datepicker>
				</mat-form-field>
			</section>
			<section>
				<mat-form-field class="primary-form-field">
					<label>Data do</label>
					<input matInput [matDatepicker]="dateToPicker" formControlName="dateTo">
					<mat-datepicker-toggle matIconSuffix [for]="dateToPicker"></mat-datepicker-toggle>
					<mat-datepicker #dateToPicker></mat-datepicker>
				</mat-form-field>
			</section>
			<section class="max-h-[30rem] overflow-y-scroll">
				@for (branch of businessBranches; track branch.id) {
					<p>
						<mat-checkbox [formControlName]="branch.section.trim()">
							{{branch.displayName}}
						</mat-checkbox>
					</p>
				}
			</section>
		</form>
	</mat-card-content>
	<mat-card-actions align="end">
		<button mat-raised-button class="button-secondary" (click)="handleFilterClear()">
			Usuń filtry
			<mat-icon matIconSuffix>clear</mat-icon>
		</button>
		<button mat-raised-button class="button-secondary" (click)="handleSearchClicked()">
			Szukaj
			<mat-icon matIconSuffix>search</mat-icon>
		</button>
	</mat-card-actions>
</mat-card>
